{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center">Add Expense</h2>

    <div class="card shadow p-4 mt-3">
        <form method="post">
            {% csrf_token %}

            <div class="mb-3">
                <label for="category" class="form-label">Category:</label>
                <select name="category" id="category" class="form-select">
                    {% for category in categories %}
                    <option value="{{ category.id }}">{{ category.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="mb-3">
                <label for="date" class="form-label">Date:</label>
                <input type="date" name="date" id="date" class="form-control">
            </div>

            <div class="mb-3">
                <label for="description" class="form-label">Description:</label>
                <textarea name="description" id="description" class="form-control" rows="3"></textarea>
            </div>

            <div class="mb-3">
                <label for="amount" class="form-label">Amount:</label>
                <input type="number" name="amount" id="amount" class="form-control">
            </div>

            <button type="submit" class="btn btn-primary w-100">Save Expense</button>
        </form>
    </div>
</div>

<!-- Bootstrap Styles -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

<script>
    // âœ… Set today's date as default
    document.addEventListener("DOMContentLoaded", function() {
        let today = new Date().toISOString().split('T')[0];  // Format YYYY-MM-DD
        document.getElementById("date").value = today;
    });
</script>

{% endblock %}
